import{u as L,a as B}from"./todoList-hnL7QpgJ.js";import{s as $,c as o,o as s,a as t,h as F,u as c,t as f,x as M,r as w,f as N,b as A,w as v,v as m,F as k,e as y,n as T,y as H,j as C}from"./index-DTuTcexm.js";import"./index-NIGUFBhG.js";const Q={class:"w-full flex justify-between items-center px-[34px] py-[16px]"},R={class:"flex gap-8"},z={key:0,class:"hidden md:block font-bold"},G={__name:"todoListHeader",setup(b){const d=L(),{logout:i}=d,{user:u}=$(d),h=()=>{i(),M.push("/")};return(g,r)=>(s(),o("div",Q,[r[0]||(r[0]=t("img",{src:"https://ch933114.github.io/vue-final-project/assets/logo_lg-B-R8YQ67.png",alt:"logo照片",class:"w-[200px] md:w-auto"},null,-1)),t("div",R,[c(u)?.nickname?(s(),o("span",z,f(c(u).nickname)+" 的代辦",1)):F("",!0),t("button",{class:"font-bold",onClick:h},"登出")])]))}},I={class:"max-w-[960px] mx-auto p-4"},Y={class:"flex justify-between bg-white rounded-[10px] overflow-hidden shadow-md"},q={key:0,class:"flex flex-col items-center mt-[16px] rounded-[10px] overflow-hidden bg-white shadow-md"},J={class:"flex w-full"},K=["onClick"],O={class:"w-full"},P={class:"flex items-center gap-2 w-full border-b-2 py-[24px]"},W=["onUpdate:modelValue","onChange"],X=["onUpdate:modelValue"],Z={class:"flex gap-2 items-center"},ee=["onClick"],te=["onClick"],oe=["onClick"],se={class:"flex justify-between mx-[24px]"},ne={class:"flex items-center gap-2 w-full py-[24px] font-bold"},le={key:1,class:"flex flex-col items-center p-[60px]"},ae={__name:"todoList",setup(b){const d=B(),{addTodo:i,removeTodo:u,fetchTodos:h,toggleStatus:g,updateTodo:r}=d,{todoData:p,undoneTodo:E}=$(d),x=w(""),V=n=>{n.isEditing=!0},j=async n=>{try{await r(n),n.isEditing=!1}catch(l){console.error(l)}},D=[{label:"全部",value:"all"},{label:"待完成",value:"pending"},{label:"已完成",value:"done"}],S=n=>{if(n.trim()===""){window.alert("請填寫待辦事項內容");return}i(n),x.value=""},_=w("all"),U=N(()=>_.value==="pending"?p.value.filter(n=>n.status===!1):_.value==="done"?p.value.filter(n=>n.status===!0):p.value);return A(()=>{h()}),(n,l)=>(s(),o("div",I,[t("div",Y,[v(t("input",{type:"text",placeholder:"新增待辦事項",class:"px-[16px] py-[12px] w-full focus:outline-none","onUpdate:modelValue":l[0]||(l[0]=e=>x.value=e)},null,512),[[m,x.value]]),t("button",{class:"text-white text-xl bg-black px-3 py-1 m-2 rounded-[5px]",onClick:l[1]||(l[1]=e=>S(x.value))}," + ")]),c(p).length!==0?(s(),o("div",q,[t("div",J,[(s(),o(k,null,y(D,e=>t("button",{key:e.value,onClick:a=>_.value=e.value,class:T(["w-full px-[16px] py-[16px] md:px-[48px] md:py-[16px] font-bold",_.value===e.value?"border-b-4 border-b-black":""])},f(e.label),11,K)),64))]),t("div",O,[t("ul",null,[(s(!0),o(k,null,y(U.value,e=>(s(),o("li",{class:"flex justify-between mx-[24px]",key:e.id},[t("div",P,[v(t("input",{type:"checkbox","onUpdate:modelValue":a=>e.status=a,onChange:a=>c(g)(e),class:"w-[20px] h-[20px]"},null,40,W),[[H,e.status]]),e.isEditing?v((s(),o("input",{key:0,"onUpdate:modelValue":a=>e.content=a,class:"border w-[80%] px-2 py-1 rounded"},null,8,X)),[[m,e.content]]):(s(),o("p",{key:1,class:T(e.status?"text-gray-400 line-through":"")},f(e.content),3))]),t("div",Z,[e.isEditing?(s(),o("button",{key:0,onClick:a=>j(e),class:"p-[8px] h-[40px] bg-green-500 text-white rounded"}," SAVE ",8,ee)):(s(),o("button",{key:1,onClick:a=>V(e),class:"p-[8px] h-[40px] bg-blue-500 text-white rounded"}," EDIT ",8,te)),t("button",{onClick:a=>c(u)(e),class:"py-[8px] px-[16px] h-[40px] bg-red-500 text-white rounded"}," DELETE ",8,oe)])]))),128))]),t("div",se,[t("p",ne,f(c(E))+" 個待完成項目 ",1)])])])):(s(),o("div",le,[...l[2]||(l[2]=[t("p",{class:"font-bold"},"目前尚無待辦事項",-1),t("img",{src:"https://ch933114.github.io/vue-final-project/assets/empty_deco-BU8GQkiF.png",alt:"無待辦插圖"},null,-1)])]))]))}},de={class:"w-full h-[100vh] [background:linear-gradient(175deg,#FFD370_50%,white_50%)]"},re={__name:"ToDoListView",setup(b){return(d,i)=>(s(),o("div",de,[C(G),C(ae)]))}};export{re as default};
