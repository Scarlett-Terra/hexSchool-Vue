import{c as n,o as a,e as w,a as t,t as l,F as h,g as k,f as H,u as x,i as g,h as D,n as V,r as v,j as u,k as B,d as A,l as b,m as N,p as y}from"./index-BylDj895.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"card h-100"},q=["src"],L={class:"card-body"},j={class:"card-title"},T={class:"card-text"},U={class:"fw-bold text-primary"},W=["onClick"],Y={__name:"ProductList",props:["products"],emits:["add-to-cart"],setup(m,{emit:c}){const i=c;return(_,r)=>(a(!0),n(h,null,w(m.products,e=>(a(),n("div",{class:"col-md-4 mb-4",key:e.id},[t("div",R,[t("img",{src:e.imgURL,class:"card-img-top"},null,8,q),t("div",L,[t("h5",j,l(e.title),1),t("p",T,l(e.content),1),t("p",U,"$ "+l(e.price),1),t("button",{class:"btn btn-success w-100",onClick:d=>i("add-to-cart",e)}," 加入購物車 ",8,W)])])]))),128))}},P={class:"list-group mb-3"},z={class:"my-0"},F={class:"text-muted"},S={class:"text-muted"},E=["onClick"],J={class:"total"},K={__name:"CartList",props:{carts:Array},emits:["remove-to-cart"],setup(m,{emit:c}){const i=c,_=m,{carts:r}=k(_),e=H(()=>r.value.reduce((d,p)=>d+p.price*p.quantity,0));return(d,p)=>(a(),n(h,null,[t("ul",P,[(a(!0),n(h,null,w(x(r),s=>(a(),n("li",{class:"list-group-item d-flex justify-content-between align-items-center",key:s.id},[t("div",null,[t("h6",z,l(s.title),1),t("small",F,"數量："+l(s.quantity),1)]),t("div",null,[t("span",S,"$"+l(s.price),1),t("button",{class:"btn btn-sm btn-outline-danger ms-2",onClick:o=>i("remove-to-cart",s)}," 移除 ",8,E)])]))),128))]),t("div",null,[t("div",J,"總價："+l(e.value)+" 元",1)])],64))}},O={key:0,class:"position-fixed top-0 end-0 p-3",style:{"z-index":"1050"}},Q={class:"d-flex"},X={class:"toast-body"},Z=["onClick"],I={__name:"Notification",setup(m){const c=g("notifications"),i=g("removeNotification");return(_,r)=>x(c).length?(a(),n("div",O,[(a(!0),n(h,null,w(x(c),e=>(a(),n("div",{key:e.id,class:V(["toast show align-items-center border-0",`text-white bg-${e.type}`])},[t("div",Q,[t("div",X,l(e.message),1),t("button",{onClick:d=>x(i)(e.id),type:"button",class:"btn-close btn-close-white me-2 m-auto"},null,8,Z)])],2))),128))])):D("",!0)}},tt={id:"app",class:"container py-4"},st={class:"row"},et={class:"col-md-8"},ot={class:"row"},it={class:"col-md-4"},nt={key:0,class:"text-danger"},at={__name:"CartView",setup(m){const c=v([{id:1,imgURL:"https://images.unsplash.com/photo-1546435770-a3e426bf472b?q=80&amp;w=2065&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",title:"耳罩式藍牙耳機",content:"舒適配戴，支援降噪技術",price:2490},{id:2,imgURL:"https://images.unsplash.com/photo-1524678606370-a47ad25cb82a?q=80&w=1469&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",title:"耳罩式彩虹耳機",content:"舒適配戴，支援降噪技術",price:1399},{id:3,imgURL:"https://images.unsplash.com/photo-1636099184052-ada1f331132c?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",title:"時尚藍芽耳機",content:"舒適配戴，支援降噪技術",price:6599},{id:4,imgURL:"https://images.unsplash.com/photo-1672292086075-aa75f03ed2a8?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",title:"機械式鍵盤",content:"機械鍵盤，打字手感極佳",price:1399},{id:5,imgURL:"https://images.unsplash.com/photo-1586349906319-48d20e9d17e5?q=80&w=1471&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",title:"無線滑鼠",content:"靜音按鈕設計，長效電池",price:799}]),i=v([]),_=s=>{const o=i.value.find(f=>f.id===s.id);o?(o.quantity+=1,d(`購物車數量 +1：${s.title}`,"success")):(i.value.push({...s,quantity:1}),d(`已加入購物車：${s.title}`,"success"))},r=s=>{i.value=i.value.filter(o=>o.id!==s.id),d(`已移除商品：${s.title}`,"secondary")},e=v([]),d=(s,o="success")=>{const f=new Date().getTime();e.value.push({id:f,message:s,type:o}),setTimeout(()=>p(f),2500)},p=s=>{e.value=e.value.filter(o=>o.id!==s)};return y("removeNotification",p),y("notifications",e),(s,o)=>{const f=b("router-link"),C=b("primeMenbar");return a(),n(h,null,[t("div",tt,[t("div",st,[t("div",et,[o[0]||(o[0]=t("h2",{class:"mb-3"},"商品列表",-1)),t("div",ot,[u(Y,{products:c.value,onAddToCart:_},null,8,["products"])])]),t("div",it,[o[1]||(o[1]=t("h2",{class:"mb-3"},"購物車",-1)),i.value.length===0?(a(),n("div",nt,"還沒加入商品喔!")):D("",!0),u(K,{carts:i.value,onRemoveToCart:r},null,8,["carts"])])]),u(I)]),u(C,{model:s.items},{item:B(({item:$,props:M})=>[u(f,N({to:$.route},M.action),null,16,["to"]),A(" "+l($.label),1)]),_:1},8,["model"])],64)}}},ct=G(at,[["__scopeId","data-v-89192b6f"]]),dt={__name:"SpView",setup(m){return(c,i)=>{const _=b("RouterView"),r=b("Notification");return a(),n(h,null,[u(_),u(ct),u(r)],64)}}};export{dt as default};
